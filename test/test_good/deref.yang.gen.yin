<?xml version="1.0" encoding="UTF-8"?>
<module name="deref"
        xmlns="urn:ietf:params:xml:ns:yang:yin:1"
        xmlns:d="urn:deref">
  <namespace uri="urn:deref"/>
  <prefix value="d"/>
  <list name="a">
    <key value="ka1 ka2"/>
    <leaf name="ka1">
      <type name="string"/>
    </leaf>
    <leaf name="ka2">
      <type name="string"/>
    </leaf>
    <list name="b">
      <key value="kb"/>
      <leaf name="kb">
        <type name="string"/>
      </leaf>
      <list name="c">
        <key value="kc"/>
        <leaf name="kc">
          <type name="string"/>
        </leaf>
      </list>
      <leaf name="lb">
        <type name="string"/>
      </leaf>
    </list>
    <leaf name="la">
      <type name="string"/>
    </leaf>
  </list>
  <container name="foo">
    <leaf name="x0">
      <type name="leafref">
        <path value="/a/la"/>
      </type>
    </leaf>
    <leaf name="x1">
      <type name="leafref">
        <path value="/a/ka1"/>
      </type>
    </leaf>
    <leaf name="gg">
      <type name="int32"/>
    </leaf>
    <leaf name="x2">
      <type name="leafref">
        <path value="/a[ka1 = current()/../x1]/ka2"/>
      </type>
    </leaf>
    <leaf name="x3">
      <type name="leafref">
        <path value="/a[ka1 = current()/../x1][ka2 = current()/../x2]/b/kb"/>
      </type>
    </leaf>
  </container>
  <container name="y">
    <leaf name="y1">
      <type name="leafref">
        <path value="/a/ka1"/>
      </type>
    </leaf>
    <leaf name="y2">
      <type name="leafref">
        <path value="deref(../y1)/../ka2"/>
      </type>
    </leaf>
    <leaf name="r3">
      <type name="leafref">
        <path value="deref(../y2)/../b/kb"/>
      </type>
    </leaf>
    <leaf name="dummy">
      <type name="string"/>
    </leaf>
  </container>
</module>
